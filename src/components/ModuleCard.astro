---
/**
 * ModuleCard.astro
 * Card de módulo no estilo pôster vintage
 * Exibe número do módulo, título, antibióticos abordados e ícone de bactéria
 */

interface Props {
  number: number;
  title: string;
  subtitle?: string;
  drugs: string[];
  href: string;
  bacteriaImage?: string; // Caminho para a imagem da bactéria
  bacteriaAlt?: string; // Alt text para acessibilidade
  status?: 'disponivel' | 'em-breve';
}

const {
  number,
  title,
  subtitle,
  drugs,
  href,
  bacteriaImage,
  bacteriaAlt = "Bactéria vilã",
  status = 'disponivel'
} = Astro.props;
---

<a href={href} class:list={["module-card", { "module-card--coming-soon": status === 'em-breve' }]}>
  <span class="module-card__number">{number.toString().padStart(2, '0')}</span>

  <div class="module-card__bacteria-icon">
    {bacteriaImage ? (
      <img
        src={bacteriaImage}
        alt={bacteriaAlt}
        class="module-card__bacteria-img"
        loading="lazy"
      />
    ) : (
      <span class="module-card__bacteria-placeholder">{bacteriaAlt}</span>
    )}
  </div>

  <h3 class="module-card__title">{title}</h3>

  {subtitle && (
    <p class="module-card__subtitle">{subtitle}</p>
  )}

  <div class="module-card__drugs">
    {drugs.map((drug) => (
      <span class="module-card__drug-tag">{drug}</span>
    ))}
  </div>

  {status === 'em-breve' && (
    <div class="module-card__badge">Em Breve</div>
  )}

  <div class="module-card__cta">
    <span class="module-card__cta-text">
      {status === 'disponivel' ? 'Acessar Módulo' : 'Disponível em breve'}
    </span>
    <span class="module-card__cta-arrow">→</span>
  </div>
</a>
